<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enhanced Randomization &mdash; UVVM  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="t_rand (protected)" href="rand_pkg_t_rand.html" />
    <link rel="prev" title="t_alert_level" href="types_pkg.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F5F5F5" >

          
          
          <a href="index.html">
            
              <img src="_static/uvvm.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="uvvm_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="uvvm_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility_library.html">Utility Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Enhanced Randomization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#single-method-approach">Single-method approach</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#constraints">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return-types">Return types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#multi-method-approach">Multi-method approach</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Return types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#seeds">Seeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uniqueness">Uniqueness</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cyclic-generation">Cyclic generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distributions">Distributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#uniform">Uniform</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gaussian-normal">Gaussian (Normal)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weighted">Weighted</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-report">Configuration report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clearing-configuration">Clearing configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-info">Additional info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rand-pkg">rand_pkg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rand_pkg_t_rand.html">t_rand (protected)</a></li>
<li class="toctree-l3"><a class="reference internal" href="rand_pkg_types.html">Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="func_cov_pkg_overview.html">Functional Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimized_rand.html">Optimized Randomization</a></li>
<li class="toctree-l1"><a class="reference internal" href="vvc_framework.html">VVC Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="fifo_collection.html">UVVM FIFO Collection</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic_queue.html">UVVM Generic Queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_avalon_mm.html">Bitvis VIP Avalon-MM</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_avalon_st.html">Bitvis VIP Avalon-ST</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axi.html">Bitvis VIP AXI4</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axilite.html">Bitvis VIP AXI4-Lite</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axistream.html">Bitvis VIP AXI4-Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_clock_generator.html">Bitvis VIP Clock Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_error_injection.html">Bitvis VIP Error Injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_ethernet.html">Bitvis VIP Ethernet</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_gmii.html">Bitvis VIP GMII</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_gpio.html">Bitvis VIP GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_hvvc_to_vvc_bridge.html">Bitvis VIP HVVC-to-VVC Bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_i2c.html">Bitvis VIP I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_rgmii.html">Bitvis VIP RGMII</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_sbi.html">Bitvis VIP SBI</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_scoreboard.html">Bitvis VIP Scoreboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_spec_cov.html">Bitvis VIP Specification Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_spi.html">Bitvis VIP SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_uart.html">Bitvis VIP UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_wishbone.html">Bitvis VIP Wishbone</a></li>
<li class="toctree-l1"><a class="reference internal" href="tool_compatibility.html">Tool Compatibility</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F5F5F5" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UVVM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Enhanced Randomization</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/rand_pkg_overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="enhanced-randomization">
<span id="rand-pkg-overview"></span><h1>Enhanced Randomization<a class="headerlink" href="#enhanced-randomization" title="Link to this heading"></a></h1>
<section id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h2>
<p>All the functionality for <strong>Enhanced Randomization</strong>, using protected types, can be found in <em>uvvm_util/src/rand_pkg.vhd</em>.</p>
<p>For more simple functionality, not using protected types, refer to the <a class="reference internal" href="utility_library.html#basic-randomization"><span class="std std-ref">Basic Randomization</span></a>.</p>
<p>For a more balanced randomization between small and large ranges/sets, the <a class="reference internal" href="optimized_rand.html#optimized-randomization"><span class="std std-ref">Optimized Randomization</span></a> under <em>uvvm_util/src/func_cov_pkg.vhd</em>
may be used.</p>
<p>To generate a random value using Enhanced Randomization it is necessary to import the utility library, create a variable with the
protected type <em>t_rand</em> and call either the <code class="docutils literal notranslate"><span class="pre">rand()</span></code> or the <code class="docutils literal notranslate"><span class="pre">randm()</span></code> function from the variable depending on which approach
is being used:</p>
<p><strong>1. Single-method approach:</strong> The <code class="docutils literal notranslate"><span class="pre">rand()</span></code> function is constrained by the parameters it receives plus additional configuration
values. This approach is useful for simple constraints or constraints which are not repeated constantly throughout the code.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="k">library</span><span class="w"> </span><span class="nn">uvvm_util</span><span class="p">;</span>
<span class="n">context</span><span class="w"> </span><span class="n">uvvm_util</span><span class="p">.</span><span class="n">uvvm_util_context</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">p_main</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">process</span>
<span class="w">  </span><span class="k">variable</span><span class="w"> </span><span class="n">my_rand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">t_rand</span><span class="p">;</span>
<span class="k">begin</span>
<span class="w">  </span><span class="c1">-- Generate a random value in the range [0:255]</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Generate a random value in the range [0:64] and either 128 or 256, except for 32</span>
<span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">32</span><span class="p">));</span>
<span class="w">  </span><span class="p">...</span>
</pre></div>
</div>
<p><strong>2. Multi-method approach:</strong> The constraints for the <code class="docutils literal notranslate"><span class="pre">randm()</span></code> function need to be previously configured by using different
procedures. The benefit of this approach is that the constraints only need to be defined once, instead of being repeated on every
<code class="docutils literal notranslate"><span class="pre">randm()</span></code> call, resulting in a code which is more structured and easier to read for complex constraints. It also supports more
combinations of different constraints, such as multiple ranges.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="k">library</span><span class="w"> </span><span class="nn">uvvm_util</span><span class="p">;</span>
<span class="n">context</span><span class="w"> </span><span class="n">uvvm_util</span><span class="p">.</span><span class="n">uvvm_util_context</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">p_main</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">process</span>
<span class="w">  </span><span class="k">variable</span><span class="w"> </span><span class="n">my_rand</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">t_rand</span><span class="p">;</span>
<span class="k">begin</span>
<span class="w">  </span><span class="c1">-- Generate a random value in the range [0:255] and [500:511]</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">);</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">511</span><span class="p">);</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Clear the constraints so we can reuse the random generator variable</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Generate a random value in the range [0:64] and either 128 or 256, except for 32</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">64</span><span class="p">);</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">128</span><span class="p">,</span><span class="mi">256</span><span class="p">));</span>
<span class="w">  </span><span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">(</span><span class="mi">32</span><span class="p">);</span>
<span class="w">  </span><span class="n">size</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="w">  </span><span class="p">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The syntax for all methods is given in <a class="reference internal" href="#rand-pkg"><span class="std std-ref">rand_pkg</span></a>.</p>
</div>
</section>
<section id="single-method-approach">
<h2>Single-method approach<a class="headerlink" href="#single-method-approach" title="Link to this heading"></a></h2>
<section id="constraints">
<h3>Constraints<a class="headerlink" href="#constraints" title="Link to this heading"></a></h3>
<p>There are different ways of constraining the random value in a clear and consistent manner when using the <code class="docutils literal notranslate"><span class="pre">rand()</span></code> function.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- 1. Range</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the range [0:99]</span>

<span class="c1">-- 2. Set of values</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">ONLY</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span><span class="w"> </span><span class="c1">-- Generates a value which is either 0, 5 or 10</span>

<span class="c1">-- 3. Range and set of values</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">100</span><span class="p">));</span><span class="w">      </span><span class="c1">-- Generates a value in the range [0:50] or 100</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">80</span><span class="p">));</span><span class="w"> </span><span class="c1">-- Generates a value in the range [0:50] and either 60, 70 or 80</span>

<span class="c1">-- 4. Range and exclude values</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">25</span><span class="p">));</span><span class="w">      </span><span class="c1">-- Generates a value in the range [0:50] except for 25</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span><span class="w">   </span><span class="c1">-- Generates a value in the range [0:50] except for 20 and 30</span>

<span class="c1">-- 5. Range, set of values and exclude values</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">25</span><span class="p">));</span><span class="w">         </span><span class="c1">-- Generates a value in the range [0:50] or 100, except for 25</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">100</span><span class="p">),</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span><span class="w">      </span><span class="c1">-- Generates a value in the range [0:50] or 100, except for 20 and 30</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">80</span><span class="p">),</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span><span class="w"> </span><span class="c1">-- Generates a value in the range [0:50] and either 60, 70 or 80, except for 20 and 30</span>
</pre></div>
</div>
<p>For more information on the probability distribution click <a class="reference internal" href="#rand-pkg-distributions"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="return-types">
<h3>Return types<a class="headerlink" href="#return-types" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">rand()</span></code> function can return the following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-int"><span class="std std-ref">integer</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-int-vec"><span class="std std-ref">integer_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-real"><span class="std std-ref">real</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-real-vec"><span class="std std-ref">real_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-time"><span class="std std-ref">time</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-time-vec"><span class="std std-ref">time_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-uns"><span class="std std-ref">unsigned</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-sig"><span class="std std-ref">signed</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-slv"><span class="std std-ref">std_logic_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-sl"><span class="std std-ref">std_logic</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-bool"><span class="std std-ref">boolean</span></a></p></li>
</ul>
</div></blockquote>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">rand_int</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">rand_int_vec</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_int_vec</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">rand_real</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">ONLY</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>
<span class="n">rand_real_vec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_real_vec</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">.</span><span class="mi">99</span><span class="p">);</span>
<span class="n">rand_time</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ps</span><span class="p">);</span>
<span class="n">rand_time_vec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_time_vec</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ps</span><span class="p">);</span>
<span class="n">rand_uns</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_uns</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">60</span><span class="p">));</span>
<span class="n">rand_sign</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_sign</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mi">25</span><span class="p">));</span>
<span class="n">rand_slv</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_slv</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">ADD</span><span class="p">,(</span><span class="mi">60</span><span class="p">),</span><span class="w"> </span><span class="n">EXCL</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">35</span><span class="p">));</span><span class="w"> </span><span class="c1">-- SLV is interpreted as unsigned</span>
<span class="n">rand_sl</span><span class="w">       </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">rand_bool</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
</pre></div>
</div>
<p>The unsigned, signed and std_logic_vector functions can return vectors of any length, however the min and max constraints are
limited by the integer’s 32-bit range. Additional overloads for these types using unsigned/signed/std_logic_vector corresponding
min and max constraints are provided as well.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-uns-long"><span class="std std-ref">unsigned</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-sig-long"><span class="std std-ref">signed</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-slv-long"><span class="std std-ref">std_logic_vector</span></a></p></li>
</ul>
</div></blockquote>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">rand_uns</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_uns</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span>
<span class="n">rand_sign</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_sign</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span>
<span class="n">rand_slv</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">rand_slv</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span><span class="w">  </span><span class="c1">-- SLV is interpreted as unsigned</span>

<span class="c1">-- In the following overloads, the length of the return value is equal to the largest length of the 2 parameters</span>
<span class="n">rand_uns</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span>
<span class="n">rand_sign</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span>
<span class="n">rand_slv</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">C_MIN_VALUE</span><span class="p">,</span><span class="w"> </span><span class="n">v_max_value</span><span class="p">);</span><span class="w"> </span><span class="c1">-- SLV is interpreted as unsigned</span>
</pre></div>
</div>
</section>
</section>
<section id="multi-method-approach">
<h2>Multi-method approach<a class="headerlink" href="#multi-method-approach" title="Link to this heading"></a></h2>
<p>Using the single-method approach does not have any effect on the multi-method approach or vice-versa. However, for readability it
is not recommended to mix them.</p>
<section id="id1">
<h3>Constraints<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>By using the following procedures, different combinations of constraints can be added for the <code class="docutils literal notranslate"><span class="pre">randm()</span></code> function. Note that when
reusing the same <em>my_rand</em> variable, the <code class="docutils literal notranslate"><span class="pre">clear_constraints()</span></code> procedure must be called to remove any previous constraints.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- 1. Single range</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">);</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the range [0:99]</span>

<span class="c1">-- 2. Multiple ranges</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">299</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">499</span><span class="p">);</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the ranges [0:99], [200:299] and [400:499]</span>

<span class="c1">-- 3. Set of values</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value which is either 0, 5 or 10</span>

<span class="c1">-- 4. Exclude values (only for integer, unsigned, signed and std_logic_vector return types)</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">));</span>
<span class="n">addr</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value from the complete integer range except for 0, 10 and 15</span>
<span class="n">data_uns</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">    </span><span class="c1">-- Generates a 4-bit unsigned random value except for 0, 10 and 15</span>

<span class="c1">-- 5. Range and set of values</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">60</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">160</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span><span class="mi">180</span><span class="p">));</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the ranges [0:50], [100:150] and either 60, 160, 170 or 180</span>

<span class="c1">-- 6. Range and exclude values</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">25</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the ranges [0:50], [100:150] except for 20, 25 and 30</span>

<span class="c1">-- 7. Set of values and exclude values</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">));</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value which is either 10, 30, 50 or 70</span>

<span class="c1">-- 8. Range, set of values and exclude values</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">60</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">160</span><span class="p">,</span><span class="mi">170</span><span class="p">,</span><span class="mi">180</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">25</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">));</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the ranges [0:50], [100:150] and either 60, 160, 170 or 180, except for 20, 25 and 30</span>

<span class="c1">-- 9. No constraints (only for integer, unsigned, signed and std_logic_vector return types)</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">addr</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Generates a value in the complete integer range</span>
<span class="n">data_sign</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span><span class="w">   </span><span class="c1">-- Generates a 16-bit signed random value</span>
</pre></div>
</div>
<p>Similar procedures exist for real constraints: <code class="docutils literal notranslate"><span class="pre">add_range_real()</span></code>, <code class="docutils literal notranslate"><span class="pre">add_val_real()</span></code> and <code class="docutils literal notranslate"><span class="pre">excl_val_real()</span></code>, and for time
constraints: <code class="docutils literal notranslate"><span class="pre">add_range_time()</span></code>, <code class="docutils literal notranslate"><span class="pre">add_val_time()</span></code> and <code class="docutils literal notranslate"><span class="pre">excl_val_time()</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>There is no limit on the number of constraints which can be added.</p></li>
<li><p>The order in which the constraints are added does not matter.</p></li>
<li><p>If a value is repeated in different “add” constraints, the probability of that value being selected will increase.</p></li>
</ul>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Constraints of different value types, e.g. integer/real/time, should not be mixed, otherwise a TB_ERROR alert will be
generated. The procedure <code class="docutils literal notranslate"><span class="pre">clear_constraints()</span></code> can be used to removed any previously added constraints.</p>
</div>
<p>For more information on the probability distribution click <a class="reference internal" href="#rand-pkg-distributions"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="id2">
<h3>Return types<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">randm()</span></code> function can return the following types:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-int"><span class="std std-ref">integer</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-int-vec"><span class="std std-ref">integer_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-real"><span class="std std-ref">real</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-real-vec"><span class="std std-ref">real_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-time"><span class="std std-ref">time</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-time-vec"><span class="std std-ref">time_vector</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-uns"><span class="std std-ref">unsigned</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-sig"><span class="std std-ref">signed</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#randm-slv"><span class="std std-ref">std_logic_vector</span></a></p></li>
</ul>
</div></blockquote>
<p>For <em>std_logic</em> and <em>boolean</em> types use the <code class="docutils literal notranslate"><span class="pre">rand(VOID)</span></code> function, since they do not require any constraints.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">rand_int</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">rand_int_vec</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_int_vec</span><span class="na">&#39;length</span><span class="p">);</span>

<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_real</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_real</span><span class="p">((</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val_real</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span>
<span class="n">rand_real</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">rand_real_vec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_real_vec</span><span class="na">&#39;length</span><span class="p">);</span>

<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_time</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">ps</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_time</span><span class="p">((</span><span class="mi">160</span><span class="w"> </span><span class="n">ps</span><span class="p">,</span><span class="mi">170</span><span class="w"> </span><span class="n">ps</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val_time</span><span class="p">(</span><span class="mi">50</span><span class="w"> </span><span class="n">ps</span><span class="p">);</span>
<span class="n">rand_time</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">rand_time_vec</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_time_vec</span><span class="na">&#39;length</span><span class="p">);</span>

<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val</span><span class="p">((</span><span class="mi">60</span><span class="p">,</span><span class="mi">70</span><span class="p">));</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">excl_val</span><span class="p">(</span><span class="mi">25</span><span class="p">);</span>
<span class="n">rand_uns</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_uns</span><span class="na">&#39;length</span><span class="p">);</span>
<span class="n">rand_sign</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_sign</span><span class="na">&#39;length</span><span class="p">);</span>
<span class="n">rand_slv</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_slv</span><span class="na">&#39;length</span><span class="p">);</span><span class="w"> </span><span class="c1">-- SLV is interpreted as unsigned</span>
</pre></div>
</div>
<p>The unsigned, signed and std_logic_vector functions can return vectors of any length, however the integer constraints are limited
to a 32-bit range. Additional overloads for adding range constraints using unsigned/signed types are provided as well. The
maximum length of these constraints is defined by C_RAND_MM_MAX_LONG_VECTOR_LENGTH in adaptations_pkg.</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-range-unsigned"><span class="std std-ref">unsigned</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-range-signed"><span class="std std-ref">signed</span></a></p></li>
</ul>
</div></blockquote>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_unsigned</span><span class="p">(</span><span class="mh">x&quot;0000000000000000&quot;</span><span class="p">,</span><span class="w"> </span><span class="mh">x&quot;FFFF000000000000&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- [0:18446462598732840960]</span>
<span class="n">rand_uns</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_uns</span><span class="na">&#39;length</span><span class="p">);</span>

<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_signed</span><span class="p">(</span><span class="mh">x&quot;F000000000000000&quot;</span><span class="p">,</span><span class="w"> </span><span class="mh">x&quot;0000000000000005&quot;</span><span class="p">);</span><span class="w">   </span><span class="c1">-- [-1152921504606846976:5]</span>
<span class="n">rand_sign</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_sign</span><span class="na">&#39;length</span><span class="p">);</span>

<span class="n">my_rand</span><span class="p">.</span><span class="n">clear_constraints</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_unsigned</span><span class="p">(</span><span class="mh">x&quot;000000000000&quot;</span><span class="p">,</span><span class="w"> </span><span class="mh">x&quot;FF0000000000&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">-- [0:280375465082880]</span>
<span class="n">rand_slv</span><span class="w">  </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">rand_slv</span><span class="na">&#39;length</span><span class="p">);</span><span class="w">  </span><span class="c1">-- SLV is interpreted as unsigned</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When a return type is not compatible with the value type of the configured constraints a TB_ERROR alert will be generated.</p>
</div>
</section>
</section>
<section id="seeds">
<h2>Seeds<a class="headerlink" href="#seeds" title="Link to this heading"></a></h2>
<p>Initializing the seeds to a unique value guarantees that two processes will not generate the same sequence of random values. They
can be initialized using any string or two positive integers (when using a string, it will be converted into two positive integers).</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>It is recommended to set the seed to the path of the actual variable in order to ensure uniqueness throughout the testbench.</p>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Example 1</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_rand_seeds</span><span class="p">(</span><span class="n">my_rand</span><span class="na">&#39;instance_name</span><span class="p">);</span>

<span class="c1">-- Example 2</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_rand_seeds</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
<p>The current seeds can be printed out, for instance when needing to recreate a certain random sequence, by using <code class="docutils literal notranslate"><span class="pre">get_rand_seeds()</span></code>.
This method will return the seeds as two positive integers or a positive integer vector.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Example 1</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">get_rand_seeds</span><span class="p">(</span><span class="n">seed1</span><span class="p">,</span><span class="w"> </span><span class="n">seed2</span><span class="p">);</span>

<span class="c1">-- Example 2</span>
<span class="n">seed_vector</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">get_rand_seeds</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uniqueness">
<span id="rand-pkg-uniqueness"></span><h2>Uniqueness<a class="headerlink" href="#uniqueness" title="Link to this heading"></a></h2>
<p>When returning a vector type (integer_vector, real_vector or time_vector) it is possible to generate unique random values for each
element of the vector by using <em>uniqueness = UNIQUE</em>. The uniqueness applies only within the values returned from a single
<code class="docutils literal notranslate"><span class="pre">rand()/randm()</span></code> call, i.e. unique values may not generated across two or more <code class="docutils literal notranslate"><span class="pre">rand()/randm()</span></code> calls.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Single-method approach</span>
<span class="n">unique_addresses</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="n">unique_addresses</span><span class="na">&#39;length</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">UNIQUE</span><span class="p">);</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_uniqueness</span><span class="p">(</span><span class="n">UNIQUE</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">unique_addresses</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">unique_addresses</span><span class="na">&#39;length</span><span class="p">);</span>
</pre></div>
</div>
<p>If the constraints are not enough to generate unique values for the whole vector, an error will be reported.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Single-method approach</span>
<span class="n">unique_addresses</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">63</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="n">UNIQUE</span><span class="p">);</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_uniqueness</span><span class="p">(</span><span class="n">UNIQUE</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span>
<span class="n">unique_addresses</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="mi">63</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The supported types are integer_vector, real_vector and time_vector.</p></li>
<li><p>Cannot be combined with unsigned/signed constraints.</p></li>
<li><p>Cannot be combined with the CYCLIC configuration.</p></li>
</ul>
</section>
<section id="cyclic-generation">
<span id="rand-pkg-cyclic"></span><h2>Cyclic generation<a class="headerlink" href="#cyclic-generation" title="Link to this heading"></a></h2>
<p>By using <em>cyclic_mode = CYCLIC</em>, it is possible to generate random values which will not repeat until all the values within the
constraints have been generated. Once this happens, the process starts over.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Single-method approach</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">num_addr</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">loop</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">63</span><span class="p">,</span><span class="w"> </span><span class="n">CYCLIC</span><span class="p">);</span>
<span class="w">  </span><span class="p">...</span>
<span class="k">end</span><span class="w"> </span><span class="k">loop</span><span class="p">;</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_cyclic_mode</span><span class="p">(</span><span class="n">CYCLIC</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">63</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">num_addr</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">loop</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="w">  </span><span class="p">...</span>
<span class="k">end</span><span class="w"> </span><span class="k">loop</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The supported types are integer, integer_vector, unsigned, signed and std_logic_vector. Note that unsigned, signed and
std_logic_vector lengths bigger than 32 bits are not supported however.</p></li>
<li><p>Cannot be combined with unsigned/signed constraints.</p></li>
<li><p>Cannot be combined with the UNIQUE configuration.</p></li>
<li><p>The state of the cyclic generation (which values have been generated) will be reset every time a <code class="docutils literal notranslate"><span class="pre">rand()/randm()</span></code> function
with a different signature (constraints) is called. It can also be manually reset with the <code class="docutils literal notranslate"><span class="pre">clear_rand_cyclic()</span></code> procedure.</p></li>
<li><p>By default, a list is created to store the state of all the possible values to be generated. This list can require a lot of
memory for big ranges or even cause problems for the simulator. To avoid this, a different implementation using a dynamic queue
will be used instead when the range of values is greater than C_RAND_CYCLIC_LIST_MAX_NUM_VALUES defined in adaptations_pkg.</p></li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When using the dynamic queue implementation, the simulation might slow down after a few thousand iterations due to the
parsing of the growing queue.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is recommended to call <code class="docutils literal notranslate"><span class="pre">clear_rand_cyclic()</span></code> at the end of the testbench when using cyclic generation to de-allocate the
list/queue.</p>
</div>
</section>
<section id="distributions">
<span id="rand-pkg-distributions"></span><h2>Distributions<a class="headerlink" href="#distributions" title="Link to this heading"></a></h2>
<p>By default, the Uniform distribution is used with the <code class="docutils literal notranslate"><span class="pre">rand()/randm()</span></code> functions, however it is also possible to select other
distributions with the procedure <code class="docutils literal notranslate"><span class="pre">set_rand_dist()</span></code>.</p>
<section id="uniform">
<h3>Uniform<a class="headerlink" href="#uniform" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Default distribution.</p></li>
<li><p>The supported types are integer, integer_vector, real, real_vector, time, time_vector, unsigned, signed, std_logic_vector,
std_logic and boolean.</p></li>
<li><p>No restrictions on configuration parameters.</p></li>
<li><p>When combining a range with a set of values, the probability of generating any legal value is 1/(number of legal values). The
only exception to this rule is for real values.</p></li>
<li><p>When combining a real range with a set of real values, the probability will be 50% for the range and 50% for the set of values,
hence any number in the set of values will have a higher probability than any single number within the range, otherwise the set
of values would be rarely generated due to the large number of values within a real range.</p></li>
</ul>
</section>
<section id="gaussian-normal">
<h3>Gaussian (Normal)<a class="headerlink" href="#gaussian-normal" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The supported types are integer, integer_vector, real, real_vector, unsigned, signed and std_logic_vector. Note that unsigned,
signed and std_logic_vector lengths bigger than 32 bits are not supported however.</p></li>
<li><p>The types <em>time</em> and <em>time_vector</em> are not supported, use instead <em>integer</em> and multiply by the time unit.</p></li>
<li><p>Only single range (min/max) constraints are supported, i.e. no multiple ranges or set of values are supported.</p></li>
<li><p>Cannot be combined with CYCLIC or UNIQUE configurations.</p></li>
<li><p>Cannot be combined with weighted randomization methods.</p></li>
<li><p>To configure the mean and std_deviation use the <code class="docutils literal notranslate"><span class="pre">set_rand_dist_mean()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_rand_dist_std_deviation()</span></code> procedures
respectively.</p></li>
<li><p>If not configured, the default mean will be (max-min)/2 and the default std_deviation will be (max-min)/6. These two default
values have no special meaning other than giving a fair distribution curve.</p></li>
<li><p>To clear the configured mean and std_deviation and go back to the default, use <code class="docutils literal notranslate"><span class="pre">clear_rand_dist_mean()</span></code> and
<code class="docutils literal notranslate"><span class="pre">clear_rand_dist_std_deviation()</span></code> procedures respectively.</p></li>
</ul>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Single-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_rand_dist</span><span class="p">(</span><span class="n">GAUSSIAN</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="k">loop</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="k">loop</span><span class="p">;</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">set_rand_dist</span><span class="p">(</span><span class="n">GAUSSIAN</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="k">loop</span>
<span class="w">  </span><span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="k">loop</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="weighted">
<span id="rand-pkg-weighted"></span><h3>Weighted<a class="headerlink" href="#weighted" title="Link to this heading"></a></h3>
<p>This distribution does NOT use the <code class="docutils literal notranslate"><span class="pre">set_rand_dist()</span></code> procedure, but instead uses different methods with parameters of
(value + weight) or (range of values + weight). The method names contain the order of the parameters for better readability.</p>
<dl class="simple">
<dt><strong>Single-method approach</strong></dt><dd><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-val-weight"><span class="std std-ref">rand_val_weight()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-range-weight"><span class="std std-ref">rand_range_weight()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#rand-range-weight-mode"><span class="std std-ref">rand_range_weight_mode()</span></a></p></li>
</ul>
</dd>
<dt><strong>Multi-method approach</strong></dt><dd><ul class="simple">
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-val-weight"><span class="std std-ref">add_val_weight()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-val-weight-real"><span class="std std-ref">add_val_weight_real()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-val-weight-time"><span class="std std-ref">add_val_weight_time()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-range-weight"><span class="std std-ref">add_range_weight()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-range-weight-real"><span class="std std-ref">add_range_weight_real()</span></a></p></li>
<li><p><a class="reference internal" href="rand_pkg_t_rand.html#add-range-weight-time"><span class="std std-ref">add_range_weight_time()</span></a></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt><strong>For multi-method approach:</strong></dt><dd><ul class="simple">
<li><p>Any non-weighted value and range constraints will have a default weight of 1.</p></li>
<li><p>Any exclude constraints will be ignored.</p></li>
<li><p>Cannot be combined with CYCLIC or UNIQUE configurations.</p></li>
</ul>
</dd>
</dl>
</div>
<p>The supported types are integer, real, time, unsigned, signed and std_logic_vector.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The sum of all weights could be any value since each individual probability is equal to individual_weight/sum_of_weights.</p>
</div>
<p>When specifying a weight for a range of values there are two possible interpretations:</p>
<ol class="arabic simple">
<li><p>COMBINED_WEIGHT: The given weight is assigned to the range as a whole, i.e. each value within the range has an equal fraction
of the given weight.</p></li>
<li><p>INDIVIDUAL_WEIGHT: The given weight is assigned equally to each value within the range, hence the range will have a total
weight higher than the given weight.</p></li>
</ol>
<p>The default mode is COMBINED_WEIGHT, however this can be changed using the <code class="docutils literal notranslate"><span class="pre">set_range_weight_default_mode()</span></code> procedure.
Alternatively, it is possible to explicitly define the mode when using <code class="docutils literal notranslate"><span class="pre">rand_range_weight_mode()</span></code> or <code class="docutils literal notranslate"><span class="pre">add_range_weight()</span></code>.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Example 1: value, weight</span>
<span class="c1">-- Generate a value which is either -5, 0 or 5 with their corresponding weights</span>
<span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Single-method approach</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand_val_weight</span><span class="p">(((</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)));</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_weight</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_weight</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_weight</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>

<span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Example 2: range(min/max), weight</span>
<span class="c1">-- Generate a value in the range [-5:-3], 0 and the range [1:5] with their corresponding weights and default mode</span>
<span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Single-method approach</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand_range_weight</span><span class="p">(((</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">30</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">50</span><span class="p">)));</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_weight</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_weight</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_weight</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">50</span><span class="p">);</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>

<span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Example 3: range(min/max), weight, weight mode</span>
<span class="c1">-- Generate a value in the range [-5:-3], 0 and the range [1:5] with their corresponding weights and explicit modes</span>
<span class="c1">--------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">-- Single-method approach</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">rand_range_weight_mode</span><span class="p">(((</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">COMBINED_WEIGHT</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">NA</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="n">COMBINED_WEIGHT</span><span class="p">)));</span>

<span class="c1">-- Multi-method approach</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_weight</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">COMBINED_WEIGHT</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_val_weight</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">);</span>
<span class="n">my_rand</span><span class="p">.</span><span class="n">add_range_weight</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="n">COMBINED_WEIGHT</span><span class="p">);</span>
<span class="n">addr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">my_rand</span><span class="p">.</span><span class="n">randm</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While it is possible to use different weight modes for each range in the same randomization call, it is recommended to use the
same modes to avoid confusion regarding the distribution of the weights.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The real and time weighted randomization methods only support the COMBINED_WEIGHT mode due to the very large number of values
within a real/time range.</p>
</div>
</section>
</section>
<section id="configuration-report">
<span id="rand-pkg-config-report"></span><h2>Configuration report<a class="headerlink" href="#configuration-report" title="Link to this heading"></a></h2>
<p>A report containing all the configuration parameters can be printed using the <code class="docutils literal notranslate"><span class="pre">report_config()</span></code> procedure.</p>
<p>A name can be given to the random generator by calling the <code class="docutils literal notranslate"><span class="pre">set_name()</span></code> procedure. This is useful when printing reports for
several random generator instances.
The maximum length of the name is determined by C_RAND_MAX_NAME_LENGTH defined in adaptations_pkg.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">my_rand</span><span class="p">.</span><span class="n">report_config</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># UVVM:  =================================================================================================================
# UVVM:  ***  REPORT OF RANDOM GENERATOR CONFIGURATION ***
# UVVM:  =================================================================================================================
# UVVM:           NAME               :                    MY_RAND_GEN
# UVVM:           SCOPE              :                       MY_SCOPE
# UVVM:           SEED 1             :                     1969513907
# UVVM:           SEED 2             :                     1510976018
# UVVM:           DISTRIBUTION       :                        UNIFORM
# UVVM:           WEIGHT MODE        :                COMBINED_WEIGHT
# UVVM:           MEAN CONFIGURED    :                          false
# UVVM:           MEAN               :                           0.00
# UVVM:           STD_DEV CONFIGURED :                          false
# UVVM:           STD_DEV            :                           0.00
# UVVM:  =================================================================================================================
</pre></div>
</div>
<p>In the case of the multi-method approach, the configured constraints will also be printed in the report:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># UVVM: ==================================================================================================================
# UVVM: ***  REPORT OF RANDOM GENERATOR CONFIGURATION ***
# UVVM: ==================================================================================================================
# UVVM:           NAME               :                    MY_RAND_INT
# UVVM:           SCOPE              :                        TB seq.
# UVVM:           SEED 1             :                         400140
# UVVM:           SEED 2             :                        4069200
# UVVM:           DISTRIBUTION       :                        UNIFORM
# UVVM:           WEIGHT MODE        :                COMBINED_WEIGHT
# UVVM:           MEAN CONFIGURED    :                          false
# UVVM:           MEAN               :                           0.00
# UVVM:           STD_DEV CONFIGURED :                          false
# UVVM:           STD_DEV            :                           0.00
# UVVM: ------------------------------------------------------------------------------------------------------------------
# UVVM:           MULTI-METHOD CONSTRAINTS
# UVVM: ------------------------------------------------------------------------------------------------------------------
# UVVM:           CYCLIC MODE             : CYCLIC
# UVVM:           UNIQUENESS              : NON_UNIQUE
# UVVM:           RANGE INTEGER VALUES    : [10:20],[30:40],[50:60]
# UVVM:           INCLUDED INTEGER VALUES : (100)
# UVVM:           EXCLUDED INTEGER VALUES : (15, 35, 55)
# UVVM: ==================================================================================================================
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># UVVM: ==================================================================================================================
# UVVM: ***  REPORT OF RANDOM GENERATOR CONFIGURATION ***
# UVVM: ==================================================================================================================
# UVVM:           NAME               :                   MY_RAND_REAL
# UVVM:           SCOPE              :                        TB seq.
# UVVM:           SEED 1             :                      299323893
# UVVM:           SEED 2             :                     1995729824
# UVVM:           DISTRIBUTION       :                        UNIFORM
# UVVM:           WEIGHT MODE        :                COMBINED_WEIGHT
# UVVM:           MEAN CONFIGURED    :                          false
# UVVM:           MEAN               :                           0.00
# UVVM:           STD_DEV CONFIGURED :                          false
# UVVM:           STD_DEV            :                           0.00
# UVVM: ------------------------------------------------------------------------------------------------------------------
# UVVM:           MULTI-METHOD CONSTRAINTS
# UVVM: ------------------------------------------------------------------------------------------------------------------
# UVVM:           CYCLIC MODE             : NON_CYCLIC
# UVVM:           UNIQUENESS              : NON_UNIQUE
# UVVM:           WEIGHTED REAL VALUES    : ([10.00:20.00],1,COMBINED),([30.00:40.00],5,COMBINED),(0.00,1),(1.00,8)
# UVVM: ==================================================================================================================
</pre></div>
</div>
</section>
<section id="clearing-configuration">
<h2>Clearing configuration<a class="headerlink" href="#clearing-configuration" title="Link to this heading"></a></h2>
<p>To clear the complete configuration in the random generator use the <code class="docutils literal notranslate"><span class="pre">clear_config()</span></code> procedure.</p>
</section>
<section id="additional-info">
<h2>Additional info<a class="headerlink" href="#additional-info" title="Link to this heading"></a></h2>
<p>Log messages within the procedures and functions in the <em>rand_pkg</em> use the following message IDs (disabled by default):</p>
<ul class="simple">
<li><p>ID_RAND_GEN: Used for logging “Enhanced Randomization” values returned by <code class="docutils literal notranslate"><span class="pre">rand()/randm()</span></code>.</p></li>
<li><p>ID_RAND_CONF: Used for logging “Enhanced Randomization” configuration changes, except from name and scope.</p></li>
</ul>
<p>The default scope for log messages in the <em>rand_pkg</em> is C_TB_SCOPE_DEFAULT and it can be updated using the procedure <code class="docutils literal notranslate"><span class="pre">set_scope()</span></code>.
The maximum length of the scope is defined by C_LOG_SCOPE_WIDTH. Both of these constants are defined in adaptations_pkg.</p>
<p>The number of decimal digits displayed in the real values logs can be adjusted with C_RAND_REAL_NUM_DECIMAL_DIGITS in adaptations_pkg.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Enhanced Randomization, Optimized Randomization and Functional Coverage were inspired by general statistics and similar
functionality in SystemVerilog and OSVVM.</p>
</div>
</section>
<section id="rand-pkg">
<span id="id3"></span><h2>rand_pkg<a class="headerlink" href="#rand-pkg" title="Link to this heading"></a></h2>
<p>The following links contain information regarding the API of the protected type <em>t_rand</em> and all the type definitions inside
<em>rand_pkg</em>.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="rand_pkg_t_rand.html">t_rand (protected)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rand_pkg_types.html">Types</a></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disclaimer: This IP and any part thereof are provided “as is”, without warranty of any kind, express or implied, including but
not limited to the warranties of merchantability, fitness for a particular purpose and non-infringement. In no event shall the
authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or
otherwise, arising from, out of or in connection with this IP.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="types_pkg.html" class="btn btn-neutral float-left" title="t_alert_level" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rand_pkg_t_rand.html" class="btn btn-neutral float-right" title="t_rand (protected)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, UVVM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>