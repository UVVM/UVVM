

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UVVM Data Stack &mdash; UVVM  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=8abdc7a9" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="UVVM Generic Queue" href="generic_queue.html" />
    <link rel="prev" title="UVVM Data FIFO" href="data_fifo.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F5F5F5" >

          
          
          <a href="index.html">
            
              <img src="_static/uvvm.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="uvvm_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="uvvm_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility_library.html">Utility Library</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="data_structures.html">Data Structures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data_fifo.html">UVVM Data FIFO</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">UVVM Data Stack</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#functional-parameters">Functional Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-init">uvvm_stack_init()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-push">uvvm_stack_push()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-pop">uvvm_stack_pop()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-flush">uvvm_stack_flush()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-peek">uvvm_stack_peek()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-get-count">uvvm_stack_get_count()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-get-max-count">uvvm_stack_get_max_count()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-is-full">uvvm_stack_is_full()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#uvvm-stack-deallocate">uvvm_stack_deallocate()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="generic_queue.html">UVVM Generic Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="association_list.html">UVVM Association List</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rand_pkg_overview.html">Enhanced Randomization</a></li>
<li class="toctree-l1"><a class="reference internal" href="func_cov_pkg_overview.html">Functional Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimized_rand.html">Optimized Randomization</a></li>
<li class="toctree-l1"><a class="reference internal" href="uvvm_assertions.html">UVVM Assertions (BETA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vvc_framework.html">VVC Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_avalon_mm.html">Bitvis VIP Avalon-MM</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_avalon_st.html">Bitvis VIP Avalon-ST</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axi.html">Bitvis VIP AXI4</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axilite.html">Bitvis VIP AXI4-Lite</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_axistream.html">Bitvis VIP AXI4-Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_clock_generator.html">Bitvis VIP Clock Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_error_injection.html">Bitvis VIP Error Injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_ethernet.html">Bitvis VIP Ethernet</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_gmii.html">Bitvis VIP GMII</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_gpio.html">Bitvis VIP GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_hvvc_to_vvc_bridge.html">Bitvis VIP HVVC-to-VVC Bridge</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_i2c.html">Bitvis VIP I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_rgmii.html">Bitvis VIP RGMII</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_sbi.html">Bitvis VIP SBI</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_scoreboard.html">Bitvis VIP Scoreboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_spec_cov.html">Bitvis VIP Specification Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_spi.html">Bitvis VIP SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_uart.html">Bitvis VIP UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="vip_wishbone.html">Bitvis VIP Wishbone</a></li>
<li class="toctree-l1"><a class="reference internal" href="tool_compatibility.html">Tool Compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F5F5F5" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UVVM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="data_structures.html">Data Structures</a></li>
      <li class="breadcrumb-item active">UVVM Data Stack</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/data_stack.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="uvvm-data-stack">
<h1>UVVM Data Stack<a class="headerlink" href="#uvvm-data-stack" title="Link to this heading"></a></h1>
<p>The UVVM Data Stack is a memory buffer that can be used to hold one or more stacks. Each stack will be allocated a chosen size and
ID number. This allows a selectable number of stacks to operate individually and be independently accessed.</p>
<p>The difference between the FIFO (First-In-First-Out) and the stack is that the stack follows the LIFO (Last-In-First-Out)
principle. This means that the last element added to the stack is the first one to be removed.</p>
<section id="functional-parameters">
<h2>Functional Parameters<a class="headerlink" href="#functional-parameters" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>buffer_idx</p></td>
<td><p>natural</p></td>
<td><p>The index of the stack that shall be initialized.</p>
<p>The maximum number of stacks is defined by
C_NUMBER_OF_DATA_BUFFERS in adaptations_pkg.</p>
</td>
</tr>
<tr class="row-odd"><td><p>buffer_size_in_bits</p></td>
<td><p>natural</p></td>
<td><p>The size of the stack.</p>
<p>The maximum stack size is defined by
C_TOTAL_NUMBER_OF_BITS_IN_DATA_BUFFER in adaptations_pkg</p>
</td>
</tr>
<tr class="row-even"><td><p>entry_size_in_bits</p></td>
<td><p>natural</p></td>
<td><p>The size of the returned std_logic_vector</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>std_logic_vector</p></td>
<td><p>The data that shall be pushed to the stack</p></td>
</tr>
<tr class="row-even"><td><p>void</p></td>
<td><p><a class="reference internal" href="types_pkg.html#t-void"><span class="std std-ref">t_void</span></a></p></td>
<td><p>Unused, empty input parameter</p></td>
</tr>
</tbody>
</table>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>All stack functions and procedures are defined in data_stack_pkg.vhd</p></li>
<li><p>All parameters in brackets are optional.</p></li>
</ul>
<section id="uvvm-stack-init">
<h3>uvvm_stack_init()<a class="headerlink" href="#uvvm-stack-init" title="Link to this heading"></a></h3>
<p>This UVVM stack call will allocate space in the stack buffer. If no buffer_idx is given, the call will return a buffer index for use
when addressing the stack. Note that 0 will be returned on error. If a buffer_idx is given, the stack is initialized with this
index.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">uvvm_stack_init</span><span class="p">([</span><span class="n">buffer_idx</span><span class="p">],</span><span class="w"> </span><span class="n">buffer_size_in_bits</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">uvvm_stack_init</span><span class="p">(</span><span class="n">C_BUFFER_IDX_1</span><span class="p">,</span><span class="w"> </span><span class="n">C_BUFFER_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">-- initialize buffer with index C_BUFFER_IDX_1</span>
<span class="n">v_stack_idx</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_init</span><span class="p">(</span><span class="n">C_BUFFER_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-push">
<h3>uvvm_stack_push()<a class="headerlink" href="#uvvm-stack-push" title="Link to this heading"></a></h3>
<p>This procedure pushes data into a stack with index buffer_idx. The size of the data is unconstrained, meaning that it can be any
size. Pushing data with a size that is larger than the stack size results in wrapping, i.e., that when reaching the end that data
remaining will overwrite the data that was first written.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">uvvm_stack_push</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">uvvm_stack_push</span><span class="p">(</span><span class="n">C_BUFFER_IDX_1</span><span class="p">,</span><span class="w"> </span><span class="n">v_rx_data</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-pop">
<h3>uvvm_stack_pop()<a class="headerlink" href="#uvvm-stack-pop" title="Link to this heading"></a></h3>
<p>This function returns the data from the stack and removes the returned data from the stack. Note that buffer_idx is the index of the
stack that shall be read, and that entry_size_in_bits is the size of the returned data as SLV. Attempting to get data from an empty
stack is allowed but triggers a TB_WARNING and returns garbage data. Attempting to get a larger value than the stack size is allowed
but triggers a TB_WARNING.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="kt">std_logic_vector</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_pop</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">,</span><span class="w"> </span><span class="n">entry_size_in_bits</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">v_rx_data</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_pop</span><span class="p">(</span><span class="n">C_BUFFER_IDX_1</span><span class="p">,</span><span class="w"> </span><span class="n">C_ENTRY_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-flush">
<h3>uvvm_stack_flush()<a class="headerlink" href="#uvvm-stack-flush" title="Link to this heading"></a></h3>
<p>This procedure empties the stack given by buffer_idx.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">uvvm_stack_flush</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">uvvm_stack_flush</span><span class="p">(</span><span class="n">C_BUFFER_IDX_1</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-peek">
<h3>uvvm_stack_peek()<a class="headerlink" href="#uvvm-stack-peek" title="Link to this heading"></a></h3>
<p>This function returns the data from the stack without removing it. Note that apart from not removing the data, this function will
behave in the same way as the uvvm_stack_pop() function.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="kt">std_logic_vector</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_peek</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">,</span><span class="w"> </span><span class="n">entry_size_in_bits</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">v_rx_data</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_peek</span><span class="p">(</span><span class="n">C_BUFFER_IDX_1</span><span class="p">,</span><span class="w"> </span><span class="n">C_ENTRY_SIZE</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-get-count">
<h3>uvvm_stack_get_count()<a class="headerlink" href="#uvvm-stack-get-count" title="Link to this heading"></a></h3>
<p>This function returns a natural indicating the number of elements currently occupying the stack given by buffer_idx.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_get_count</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">v_num_elements</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_get_count</span><span class="p">(</span><span class="n">C_BUFFER_IDX</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-get-max-count">
<h3>uvvm_stack_get_max_count()<a class="headerlink" href="#uvvm-stack-get-max-count" title="Link to this heading"></a></h3>
<p>This function returns a natural indicating the maximum number of elements that can occupy the stack given by buffer_idx.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_get_max_count</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">v_max_elements</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_get_max_count</span><span class="p">(</span><span class="n">C_BUFFER_IDX</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-is-full">
<h3>uvvm_stack_is_full()<a class="headerlink" href="#uvvm-stack-is-full" title="Link to this heading"></a></h3>
<p>This function returns a boolean indicating if the stack is full or not.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_is_full</span><span class="p">(</span><span class="n">buffer_idx</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">v_stack_is_full</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">uvvm_stack_is_full</span><span class="p">(</span><span class="n">C_BUFFER_IDX</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="uvvm-stack-deallocate">
<h3>uvvm_stack_deallocate()<a class="headerlink" href="#uvvm-stack-deallocate" title="Link to this heading"></a></h3>
<p>This function de-allocates the stack buffer, all the stack pointers are reset.</p>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="n">uvvm_stack_deallocate</span><span class="p">(</span><span class="n">VOID</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-VHDL notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Examples:</span>
<span class="n">uvvm_stack_deallocate</span><span class="p">(</span><span class="n">VOID</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disclaimer: This IP and any part thereof are provided “as is”, without warranty of any kind, express or implied, including but
not limited to the warranties of merchantability, fitness for a particular purpose and non-infringement. In no event shall the
authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or
otherwise, arising from, out of or in connection with this IP.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data_fifo.html" class="btn btn-neutral float-left" title="UVVM Data FIFO" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="generic_queue.html" class="btn btn-neutral float-right" title="UVVM Generic Queue" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 by UVVM steering group. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>